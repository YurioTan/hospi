<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <template id="invoice_report_hn_sale" inherit_id="account.report_invoice_document">
        <!--        move tax column after description-->
        <xpath expr="//table/thead//th[@name='th_taxes']" position="replace">
        </xpath>

        <xpath expr="//table/thead//th[@name='th_description']" position="after">
            <th name="th_taxes"
                t-attf-class="text-left {{ 'd-none d-md-table-cell' if report_type == 'html' else '' }}">
                <span>Taxes</span>
            </th>

        </xpath>

        <xpath expr="//table/tbody//span[@id='line_tax_ids']/.." position="replace">
        </xpath>

        <xpath expr="//table/tbody//td[@name='account_invoice_line_name']" position="after">
            <td t-attf-class="text-left {{ 'd-none d-md-table-cell' if report_type == 'html' else '' }}">
                <span t-esc="', '.join(map(lambda x: (x.description or x.name), line.tax_ids))" id="line_tax_ids"/>
            </td>
        </xpath>

        <!--        add amount taxes before subtotal-->
        <xpath expr="//table/thead//th[@name='th_subtotal']" position="before">
            <th name="th_amount_taxes" class="text-right"><span>Amount Taxes</span></th>
        </xpath>

        <xpath expr="//table/tbody//td[@class='text-right o_price_total']" position="before">
            <td t-attf-class="text-right {{ 'd-none d-md-table-cell' if report_type == 'html' else '' }}">
                <span t-esc="line.amount_taxes" id="line_amount_taxes"/>
            </td>
        </xpath>

        <div class="clearfix" position="after">
            <div class="mt32 ml64 mr4" name="signature">
                <div class="offset-8 text-center">
                    <strong>Signature</strong>
                </div>
                <div t-if="o.signature" class="offset-8 text-center">
                    <img t-att-src="image_data_uri(o.signature)" style="max-height: 4cm; max-width: 8cm;"/>
                </div>
                <div t-else="">
                    <br/>
                    <br/>
                    <br/>
                </div>
                <div class="offset-8 text-center">
                    <t t-if="o.signed_by">
                        <p t-field="o.signed_by"/>

                    </t>
                    <t t-else="">
                        <p>..............................</p>
                    </t>
                </div>
            </div>
        </div>

    </template>
</odoo>